<div class="buttons-box">
  <h3>Commodity Details</h3>
  <button class="btn btn-primary" type="button" (click)="addnewline()">Add New Row</button>
</div>
<form #commodityForm="ngForm">
  <div class="accordion-box" *ngFor="let commodity of commodityDetails; let index=index;">
    <div class="commodity-line" [class.active]="commodity.isExpanded" (click)="commodity.isExpanded = !commodity.isExpanded">
      <h2>{{index+1}}</h2>
      <div class="summary">
        <div class="item">
          <strong>Description</strong>
          {{commodity.commodityLineDetails.commodityDescription}}
        </div>
        <div class="item">
          <strong>HTS/Schedule B</strong>
          {{commodity.commodityLineDetails.htsNumber}}
        </div>
        <div class="item">
          <strong>Goods Origin</strong>
          {{commodity.commodityLineDetails.originofGoods}}
        </div>
        <div class="item">
          <strong>Quantity 1</strong>
          {{commodity.commodityLineDetails.quantity1}}
        </div>
        <div class="item">
          <strong>Quantity 2</strong>
          {{ commodity.commodityLineDetails.quantity2}}
        </div>
        <div class="item">
          <strong>Shipping Weight</strong>
          {{commodity.commodityLineDetails.shippingWeight}}
        </div>
        <div class="item">
          <strong>Value</strong>
          {{commodity.commodityLineDetails.valueofGoods}} </div>
      </div>
      <div class="item">
        <button type="button" class="btn btn-danger" 
                (click)="ondeleteclick($event, commodity)">Delete</button>
      </div>
    </div>
    <div class="content-box commodity-box" [class.expanded]="commodity.isExpanded">
      <div class="row mb-3">
        <div class="col-md-3">
          <label>Schedule B or HTS Number
            <i class="label-blue">(Schedule B Search Engine)</i>
            <i class="mand">*</i>
          </label>
          <input type="text" [(ngModel)]="commodity.commodityLineDetails.htsNumber" id="{{index}}-htsNumber" name="{{index}}-htsNumber">
        </div>
        <div class="col-md-3">
          <label>Commodity Description
            <i class="mand">*</i>
          </label>
          <input type="text" [(ngModel)]="commodity.commodityLineDetails.commodityDescription" id="{{index}}-commodityDescription" name="{{index}}-commodityDescription">
        </div>
        <div class="col-md-3">
          <label>Origin of Goods
          </label>
          <ng-select [items]="originGoodsList" bindLabel="name" bindValue="id" [(ngModel)]="commodity.commodityLineDetails.originofGoods"
            id="{{index}}-originOfGoods" name="{{index}}-originOfGoods">
            <ng-template ng-option-tmp ng-label-tmp let-item="item">
              {{item.id}} - {{item.name}}
            </ng-template>
          </ng-select>
        </div>
        <div class="col-md-3">
          <label>Value of Goods (whole US Dollars) 
          </label>
          <input type="number" id="{{index}}-valueofGoods" name="{{index}}-valueofGoods" [(ngModel)]="commodity.commodityLineDetails.valueofGoods">
        </div>
      </div>
      <div class="row mb-4">
        <div class="col-md-3">
          <label>Shipping Weight (whole Kilograms)</label>
          <input type="number" [(ngModel)]="commodity.commodityLineDetails.shippingWeight" id="{{index}}-shippingWeight" name="{{index}}-shippingWeight">
        </div>
        <div class="col-md-3">
          <div class="row  mb-4">
            <div class="col-md-6">
              <label>1st Quantity
              </label>
              <input type="number" [(ngModel)]="commodity.commodityLineDetails.quantity1" id="{{index}}-quantity1" name="{{index}}-quantity1">
            </div>
            <div class="col-md-6">
              <label>1st UOM
              </label>
              <input type="text" [(ngModel)]="commodity.commodityLineDetails.quantity1Uom" id="{{index}}-quantity1Uom" name="{{index}}-quantity1Uom">
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="row">
            <div class="col-md-6">
              <label>2nd Quantity
              </label>
              <input type="number" [(ngModel)]="commodity.commodityLineDetails.quantity2" id="{{index}}-quantity2" name="{{index}}-quantity2">
            </div>
            <div class="col-md-6">
              <label>2nd UOM
              </label>
              <input type="number" [(ngModel)]="commodity.commodityLineDetails.quantity2Uom" id="{{index}}-quantity2Uom" name="{{index}}-quantity2Uom">
            </div>
          </div>
        </div>


      </div>


      <ul class="form-list mb-4">
        <li>
          <p>Does this filling require Participating Government agency data?
            <i class="mand">*</i>
          </p>
          <input type="radio" id="{{index}}-tras-yes" name="{{index}}-trans">
          <label for="tras-yes">Yes</label>
          <input type="radio" id="{{index}}-tras-no" name="{{index}}-trans">
          <label for="tras-no">No</label>
        </li>
      </ul>

      <div>
        <!-- <h5 class="secondar-heading">Department of Commerce License - NLR NO LICENSE REQUIRED, OR ONLY CONTROLLED FOR
        ANTI-TERRORISM (AT)</h5> -->
        <h5>License Details</h5>

        <div class="row mb-4">
          <div class="col-md-3">
            <label>Liscense Type Code/License Exemption Code
              <i class="mand">*</i>
            </label>
            <input type="text" required id="{{index}}-licenseExemptionCode" name="{{index}}-licenseExemptionCode" [(ngModel)]="commodity.licenseDetails.licenseExemptionCode">
            <label class="error-label" *ngIf="commodityForm.controls.licenseExemptionCode?.invalid && commodityForm.controls.licenseExemptionCode?.touched">This field is required!!</label>
          </div>
          <div class="col-md-3">
            <label>Export License No.
              <i class="mand">*</i>
            </label>
        <input type="text" required id="exportLicenseNumber" name="{{index}}-exportLicenseNumber" [(ngModel)]="commodity.licenseDetails.exportLicenseNumber">
            <label class="error-label" *ngIf="commodityForm.controls.exportLicenseNumber?.invalid && commodityForm.controls.exportLicenseNumber?.touched">This field is required!!</label>
          </div>
          <div class="col-md-2">
            <label>License Value</label>
            <input type="text" id="licenseValue" name="{{index}}-licenseValue" [(ngModel)]="commodity.licenseDetails.licenseValue">
          </div>
          <div class="col-md-2">
            <label>ECCN</label>
            <input type="text" id="eccn" name="{{index}}-eccn" [(ngModel)]="commodity.licenseDetails.eccn">
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-md-3">
            <label>Export Information Code
              <i class="mand">*</i>
            </label>
            <input type="text" required id="exportInformationCode" name="{{index}}-exportInformationCode" [(ngModel)]="commodity.commodityLineDetails.exportInformationCode">
            <label class="error-label" *ngIf="commodityForm.controls.exportInformationCode?.invalid && commodityForm.controls.exportInformationCode?.touched">This field is required!!</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>